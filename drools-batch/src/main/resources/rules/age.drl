import com.digiup.sandbox.model.Person;
import java.util.Date;

rule "derived age"
dialect "mvel"
    when
        $p : Person(age == null || age != null)
    then
        System.out.println("running");
        int age = new Date().getYear() - $p.getDateOfBirth().getYear();
        System.out.println(age);
        $p.setAge(age);
        update($p);
end
