import com.digiup.sandbox.model.Person;
import java.util.Date;

rule "derived age"
    when
        p : Person (age == -1, dateOfBirth != null)
    then
        int age = (int)new Date().getYear() - p.getDateOfBirth().getYear();
        System.out.println(age);
        p.setAge(age);
        update(p);
end
